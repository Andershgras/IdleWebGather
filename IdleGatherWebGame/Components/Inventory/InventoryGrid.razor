@using IdleGatherWebGame.Models
@inherits ComponentBase

@if (Items is null)
{
    <div class="inv-empty">No items</div>
}
else
{
    @foreach (var group in Items.GroupBy(i => i.Category))
    {
        <section class="inv-section">
            <header class="inv-header">@group.Key</header>
            <div class="inv-grid">
                @foreach (var it in group.OrderByDescending(i => i.Amount).ThenBy(i => i.Name))
                {
                    <button class="inv-card rarity-@it.Rarity.ToString().ToLower()" title="@it.Name">
                        <img src="@it.IconPath" alt="@it.Name" />
                        <span class="inv-count">@it.Amount</span>
                    </button>
                }
            </div>
        </section>
    }
}

@code {
    [Parameter] public IEnumerable<InventoryItemVM>? Items { get; set; }
}
